The following describes the rules for a System Functional Register (SFR) specification provided in CSV format, defining the memory map and register details for a System-on-Chip (SoC) design, including group, subgroup, and SFR-level repetitions.

**CSV Structure**:
- **Columns**:
  - **Group Name**: Name of the top-level group (e.g., `SystemCtrl`, `TimerGroup`, `IOGroup`, `InterruptGroup`). Empty if the register belongs to the previous group.
  - **Group Repeat Count**: Number of group repetitions (e.g., `2` for two instances). Empty if `1`.
  - **Group Size**: Group size in bytes (e.g., `0x80`). Empty if not applicable.
  - **Subgroup Name**: Name of the subgroup within a group (e.g., `ClockCtrl`, `PortA`). Empty if no subgroup or inherited from the previous row.
  - **Subgroup Repeat Count**: Number of subgroup repetitions (e.g., `4`). Empty if `1`.
  - **Subgroup Size**: Subgroup size in bytes (e.g., `0x20`). Empty if not applicable.
  - **Register Name**: SFR name (e.g., `GlobalConfig`, `ClockConfig`). Empty for subfields of the same register.
  - **Offset**: Starting address offset of the SFR relative to the group or subgroup (e.g., `0x00`, `0x140`). Empty for subfields.
  - **Bit Field**: Defines SFR size/repetition or subfield name.
    - Top-level SFR: `<SFR size>,<repeat count>` (e.g., `0x10,0..1` for 16-byte SFR, 2 repetitions) or empty for default `4,1` (4 bytes, 1 repetition).
    - Subfield: Name of the bit field (e.g., `Mode`, `Enable`).
  - **Bit Range**: Bit range for SFR or subfield (e.g., `[31:0]`, `[0:0]`). For top-level SFRs, typically reflects maximum access size (32-bit, `[31:0]`). Undefined bits are reserved.
  - **Default Value**: Default value of SFR or subfield (e.g., `0x0`, `0xF`).
  - **Access Type**: Access mode (e.g., `RW`, `RO`, `WO`, `W1C`, `W0C`, `RS`, `WC`, `WRC`, `WS`, `W1T`, `W0T`, `WO1`, `W1S`, `W0S`, `WRS`, `W1CRS`, `W0SRC`).
  - **Testable**: Testable status (`Y` or `N`).
  - **Description**: Description of SFR or subfield.

**Rules**:
1. **SFR Size and Repetition**:
   - If `Bit Field` is empty in the top-level SFR row, assume 32-bit (4 bytes, `4,1`).
   - If `Bit Field` is `<SFR size>,<repeat count>` (e.g., `0x10,0..1`), SFR size is in bytes, and repetition defines multiple instances (e.g., offsets `0x04`, `0x14`).
   - Subfields (e.g., `Mode`, `Enable`) are defined within the SFR’s offset and `Bit Range`.

2. **Bit Range**:
   - Top-level SFRs typically use `[31:0]` for 32-bit access but may match subfield ranges if only specific bits are defined (e.g., `[0:0]`). Undefined bits are reserved.
   - Subfields specify exact bit ranges (e.g., `[1:0]`, `[7:4]`).

3. **Offset Gaps**:
   - Gaps between offsets (e.g., `0x24` to `0x100`) are intentional for future design additions and are not errors.

4. **Repetition Structure**:
   - **Group Repeat**: Defined by `Group Repeat Count` and `Group Size` (e.g., `TimerGroup`: 2 repetitions, size `0x80`, offsets `0x140`, `0x1C0`).
   - **Subgroup Repeat**: Defined by `Subgroup Repeat Count` and `Subgroup Size` (e.g., `PortA`: 4 repetitions, size `0x20`, offsets `0x200`, `0x220`, `0x240`, `0x260`).
   - **SFR Repeat**: Defined by `Bit Field` (e.g., `0x10,0..3` for 4 repetitions of 16-byte SFR).

   

아래는 System-on-Chip (SoC) 설계의 메모리 맵과 레지스터 세부 정보를 정의하는 CSV 형식의 System Functional Register (SFR) 사양 작성 규칙입니다. 그룹, 서브그룹, SFR 수준의 반복 구조를 포함합니다.

**CSV 구조**:
- **열**:
  - **Group Name**: 최상위 그룹 이름 (예: `SystemCtrl`, `TimerGroup`, `IOGroup`, `InterruptGroup`). 이전 그룹에 속하면 공란.
  - **Group Repeat Count**: 그룹 반복 횟수 (예: `2`는 두 번 반복). `1`이면 공란.
  - **Group Size**: 그룹의 바이트 크기 (예: `0x80`). 적용되지 않으면 공란.
  - **Subgroup Name**: 그룹 내 서브그룹 이름 (예: `ClockCtrl`, `PortA`). 서브그룹 없거나 이전 행에서 상속되면 공란.
  - **Subgroup Repeat Count**: 서브그룹 반복 횟수 (예: `4`). `1`이면 공란.
  - **Subgroup Size**: 서브그룹의 바이트 크기 (예: `0x20`). 적용되지 않으면 공란.
  - **Register Name**: SFR 이름 (예: `GlobalConfig`, `ClockConfig`). 동일 레지스터의 하위 필드일 경우 공란.
  - **Offset**: 그룹 또는 서브그룹 기준 SFR의 시작 오프셋 (예: `0x00`, `0x140`). 하위 필드일 경우 공란.
  - **Bit Field**: SFR 크기/반복 또는 하위 필드 이름 정의.
    - 상위 SFR: `<SFR size>,<repeat count>` 형식 (예: `0x10,0..1`은 16바이트 SFR, 2회 반복) 또는 기본값 `4,1` (4바이트, 1회 반복)일 경우 공란.
    - 하위 필드: 비트 필드 이름 (예: `Mode`, `Enable`).
  - **Bit Range**: SFR 또는 하위 필드의 비트 범위 (예: `[31:0]`, `[0:0]`). 상위 SFR은 최대 접근 크기(32비트, `[31:0]`)를 반영. 정의되지 않은 비트는 예약(reserved).
  - **Default Value**: SFR 또는 하위 필드의 기본값 (예: `0x0`, `0xF`).
  - **Access Type**: 접근 모드 (예: `RW`, `RO`, `WO`, `W1C`, `W0C`, `RS`, `WC`, `WRC`, `WS`, `W1T`, `W0T`, `WO1`, `W1S`, `W0S`, `WRS`, `W1CRS`, `W0SRC`).
  - **Testable**: 테스트 가능 여부 (`Y` 또는 `N`).
  - **Description**: SFR 또는 하위 필드의 설명.

**규칙**:
1. **SFR 크기 및 반복**:
   - 상위 SFR 행의 `Bit Field`가 공란이면 32비트(4바이트, `4,1`)로 가정.
   - `Bit Field`가 `<SFR size>,<repeat count>` (예: `0x10,0..1`)이면 SFR 크기는 바이트 단위, 반복 횟수는 다중 인스턴스 정의 (예: 오프셋 `0x04`, `0x14`).
   - 하위 필드 (예: `Mode`, `Enable`)는 SFR의 오프셋과 `Bit Range` 내에서 정의.

2. **Bit Range**:
   - 상위 SFR은 일반적으로 32비트 접근을 위해 `[31:0]` 사용, 특정 비트만 정의되면 하위 필드와 동일 가능 (예: `[0:0]`). 정의되지 않은 비트는 예약(reserved).
   - 하위 필드는 정확한 비트 범위 지정 (예: `[1:0]`, `[7:4]`).

3. **오프셋 간격**:
   - 오프셋 간 공백 (예: `0x24`에서 `0x100` 사이)은 미래 설계 추가를 위해 의도적으로 띄운 것.

4. **반복 구조**:
   - **그룹 반복**: `Group Repeat Count`와 `Group Size`로 정의 (예: `TimerGroup`은 2회 반복, 크기 `0x80`, 오프셋 `0x140`, `0x1C0`).
   - **서브그룹 반복**: `Subgroup Repeat Count`와 `Subgroup Size`로 정의 (예: `PortA`는 4회 반복, 크기 `0x20`, 오프셋 `0x200`, `0x220`, `0x240`, `0x260`).
   - **SFR 반복**: `Bit Field`로 정의 (예: `0x10,0..3`은 16바이트 SFR 4회 반복).